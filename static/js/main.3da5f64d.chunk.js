(this["webpackJsonpsimple-note-firebase"]=this["webpackJsonpsimple-note-firebase"]||[]).push([[0],{37:function(e,t,a){e.exports=a(57)},42:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),o=a.n(i),s=(a(42),a(43),a(14)),c=a(9),l=a(7),u=a(10),d=a.n(u),p=a(18),m=a(12),h=a(13),f=a(15),g=a(16),v=(a(45),a(25)),E=a.n(v);a(46),a(48);E.a.initializeApp({apiKey:"AIzaSyBNQDVwVey1dgpPFVbyk6OJL611Q4cHi5s",authDomain:"simple-notes-firebase-76202.firebaseapp.com",databaseURL:"https://simple-notes-firebase-76202.firebaseio.com",projectId:"simple-notes-firebase-76202",storageBucket:"simple-notes-firebase-76202.appspot.com",messagingSenderId:"690875245691",appId:"1:690875245691:web:d313b0d695a71ce639eede",measurementId:"G-DYCTLDL1SS"});var N=E.a.database(),b=E.a,y=a(8),S=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).setDate=function(e){var t=new Date(e).getDay(),a=new Date(e).getDate(),n=new Date(e).getMonth()+1,r=new Date(e).getFullYear();return"".concat(["Minggu","Senin","Selasa","Rabu","Kamis","Jum'at","Sabtu"][t]," | ").concat(a,"-").concat(n,"-").concat(r)},n.componentDidMount=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(localStorage.getItem("userData")))){e.next=6;break}return e.next=4,n.props.getNote(t.uid);case 4:e.next=11;break;case 6:(a=document.querySelector(".dash-container")).style.flexDirection="column",a.style.textAlign="center",a.style.padding="100px 0",a.innerHTML='<h1>404 Not Found</h1>\n        <hr/>\n       <p>you are not user, please login..</p>\n       <a href="/">Oke i\'m Back</a>';case 11:case"end":return e.stop()}}),e)}))),n.handleInputChange=function(e,t){n.setState(Object(l.a)({},t,e.target.value))},n.handleSaveNote=function(){var e=n.state,t=e.title,a=e.content,r=e.isUpdate,i=e.noteId,o=n.props,s=o.saveNote,c=o.updateNote,l={title:t,content:a,userId:JSON.parse(localStorage.getItem("userData")).uid,date:(new Date).getTime()};r?(l.noteId=i,c(l).then((function(){n.setState({title:"",content:"",isUpdate:!1,displayNone:"display-none"})}))):(s(l),n.setState({displayNone:"display-none"}))},n.updateInput=function(e){n.setState({title:e.data.title,content:e.data.content,noteId:e.id,isUpdate:!0,displayNone:""})},n.handleCancel=function(){n.setState({title:"",content:"",isUpdate:!1,displayNone:"display-none"})},n.deleteNote=function(e){var t={userId:JSON.parse(localStorage.getItem("userData")).uid,noteId:e.id};n.props.deleteNote(t)},n.closeForm=function(){n.setState({title:"",content:"",date:"",noteId:"",isUpdate:!1,displayNone:"display-none"})},n.state={title:"",content:"",date:"",noteId:"",isUpdate:!1,displayNone:"display-none"},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,i=t.content,o=this.props.notes;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"bg-display ".concat(this.state.displayNone)}),r.a.createElement("div",{className:"dash-container"},r.a.createElement("div",{className:"dash-header"},r.a.createElement("h3",null,"Simple Note"),r.a.createElement("div",{className:"dash-form ".concat(this.state.displayNone)},r.a.createElement("div",{className:"close-form",onClick:this.closeForm},"x"),r.a.createElement("div",{className:"dash-form-title"},r.a.createElement("h3",null,this.state.isUpdate?"Edit Note":"Tambah Note")),r.a.createElement("div",{className:"dash-form-input"},r.a.createElement("input",{placeholder:"title..",className:"title",value:a,onChange:function(t){return e.handleInputChange(t,"title")}}),r.a.createElement("textarea",{placeholder:"content..",className:"content",value:i,onChange:function(t){return e.handleInputChange(t,"content")}}),this.state.isUpdate?r.a.createElement("div",{className:"isupdate"},r.a.createElement("button",{className:"btn-cancel",onClick:this.handleCancel},"Cancel"),r.a.createElement("button",{className:"btn-save",onClick:this.handleSaveNote},"Update")):r.a.createElement("button",{className:"btn-save",onClick:this.handleSaveNote},"Save"))),r.a.createElement("button",{className:"add-note",onClick:function(){e.setState({displayNone:""})}},"+ Note")),r.a.createElement("div",{className:"dash-notes"},o.length>0?r.a.createElement(n.Fragment,null,o.map((function(t){return r.a.createElement("div",{className:"card-container",key:t.id},r.a.createElement("div",{className:"delete-confirm"},r.a.createElement("button",{onClick:function(a){a.target.parentElement.nextSibling.style.transform="translate(-1000px, 2px)",a.target.parentElement.style.opacity="0",setTimeout((function(){e.deleteNote(t)}),300)}},"YES"),r.a.createElement("button",{className:"delete-confirm-no",onClick:function(e){e.target.parentElement.nextSibling.classList.remove("delete-slide")}},"NO")),r.a.createElement("div",{className:"dash-card",onClick:function(){return e.updateInput(t)}},r.a.createElement("div",{className:"dash-title"},r.a.createElement("h3",null,t.data.title),r.a.createElement("p",null,e.setDate(t.data.date))),r.a.createElement("div",{className:"dash-content"},r.a.createElement("p",null,t.data.content)),r.a.createElement("div",{className:"btn-delete",onClick:function(e){e.stopPropagation(),e.target.parentElement.classList.add("delete-slide")}},"Delete")))}))):r.a.createElement("p",null,"anda tidak mempunyai note.."))))}}]),a}(n.Component),I=Object(y.b)((function(e){return{userData:e.userData,notes:e.notes}}),(function(e){return{getNote:function(t){return e(function(e){return function(t){return new Promise((function(a,n){N.ref("notes/"+e).on("value",(function(e){var n=[];e.val()&&(Object.keys(e.val()).forEach((function(t){n.push({id:t,data:e.val()[t]})})),t({type:"GET_NOTES",value:n}),a(e.val()))}),(function(e){n(e)}))}))}}(t))},saveNote:function(t){return e(function(e){return function(t){N.ref("notes/"+e.userId).push({title:e.title,content:e.content,date:e.date})}}(t))},updateNote:function(t){return e(function(e){return function(t){var a=N.ref("notes/".concat(e.userId,"/").concat(e.noteId));return new Promise((function(t,n){a.set({title:e.title,content:e.content,date:e.date},(function(a){a?n(alert(a)):t(alert("data dengan title : ".concat(e.title," , Berhasil di Update")))}))}))}}(t))},deleteNote:function(t){return e(function(e){return function(t){return new Promise((function(t,a){N.ref("notes/".concat(e.userId,"/").concat(e.noteId)).remove()}))}}(t))}}}))(S),O=(a(55),function(e){var t=e.title,a=e.onClick;return e.loading?r.a.createElement("button",{disabled:!0},r.a.createElement("div",{className:"loading"})):r.a.createElement("button",{onClick:a},t)}),C=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){n.setState(Object(l.a)({},e.target.id,e.target.value))},n.handleSubmitEnter=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,r,i,o,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.which){e.next=8;break}return a=n.state,r=a.email,i=a.password,o=function(){return n.setState({password:""})},s=n.props.history,e.next=6,n.props.loginFirebaseUser({email:r,password:i},o).catch((function(e){return alert(e)}));case 6:(c=e.sent)&&(localStorage.setItem("userData",JSON.stringify(c)),s.push("/dashboard"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleLoginSubmit=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,r,i,o,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state,r=a.email,i=a.password,o=function(){return n.setState({password:""})},s=n.props.history,e.next=5,n.props.loginFirebaseUser({email:r,password:i},o).catch((function(e){return alert(e)}));case 5:(c=e.sent)&&(localStorage.setItem("userData",JSON.stringify(c)),s.push("/dashboard"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={email:"",password:""},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"auth-container"},r.a.createElement("div",{className:"auth-card"},r.a.createElement("p",null,"Login pages"),this.props.popup?r.a.createElement("p",null,"Login OKE"):null,r.a.createElement("input",{type:"text",id:"email",value:this.state.email,placeholder:"Email",onChange:this.handleInputChange}),r.a.createElement("input",{onKeyUp:function(t){return e.handleSubmitEnter(t)},type:"password",id:"password",value:this.state.password,placeholder:"Password",onChange:this.handleInputChange}),r.a.createElement(O,{onClick:this.handleLoginSubmit,title:"Login",loading:this.props.isLoading}),r.a.createElement("span",null,"tidak punya akun? ",r.a.createElement(s.b,{to:"/register"},"register"))))}}]),a}(n.Component),w=Object(y.b)((function(e){return{isLoading:e.isLoading,popup:e.popup}}),(function(){return function(e){return{loginFirebaseUser:function(t,a){return e(function(e,t){return function(a){return new Promise((function(n,r){a({type:"CHANGE_ISLOADING",value:!0}),b.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){var t={email:e.user.email,uid:e.user.uid,emailVerified:e.user.emailVerified,refreshToken:e.user.refreshToken};a({type:"CHANGE_ISLOADING",value:!1}),a({type:"CHANGE_ISLOGIN",value:!0}),a({type:"CHANGE_USER",value:t}),n(t)})).catch((function(e){var n=e.message;t(),a({type:"CHANGE_ISLOADING",value:!1}),a({type:"CHANGE_ISLOGIN",value:!1}),r(n)}))}))}}(t,a))}}}}))(C),k=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){n.setState(Object(l.a)({},e.target.id,e.target.value))},n.handleRegisterSubmit=function(e){var t=n.state,a=t.email,r=t.password;n.props.registerFirebaseUser({email:a,password:r},(function(){return n.setState({email:"",password:""})}))},n.changeUser=function(){n.props.changeUserName()},n.state={email:"",password:""},n}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"auth-container"},r.a.createElement("div",{className:"auth-card"},r.a.createElement("p",null,"Register ",this.props.userName),this.props.popup?r.a.createElement("p",null,"Register OKE"):null,r.a.createElement("input",{type:"text",id:"email",value:this.state.email,placeholder:"Email",onChange:this.handleInputChange}),r.a.createElement("input",{type:"password",id:"password",value:this.state.password,placeholder:"Password",onChange:this.handleInputChange}),r.a.createElement(O,{onClick:this.handleRegisterSubmit,title:"Register",loading:this.props.isLoading}),r.a.createElement("span",null,"sudah punya akun? ",r.a.createElement(s.b,{to:"/"},"login"))))}}]),a}(n.Component),D=Object(y.b)((function(e){return{isLoading:e.isLoading,popup:e.popup}}),(function(){return function(e){return{registerFirebaseUser:function(t,a){return e(function(e,t){return function(a){return a({type:"CHANGE_ISLOADING",value:!0}),b.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(e){a({type:"CHANGE_ISLOADING",value:!1}),t(),a({type:"CHANGE_POPUP",value:!0}),setTimeout((function(){a({type:"CHANGE_POPUP",value:!1})}),2e3)})).catch((function(e){var t=e.code,n=e.message;a({type:"CHANGE_ISLOADING",value:!1}),alert(t,n)}))}}(t,a))}}}}))(k),L=a(20),j=a(36),G=a(17),A={popup:!1,isLogin:!1,isLoading:!1,userData:{},notes:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_POPUP"===t.type?Object(G.a)({},e,{popup:t.value}):"CHANGE_ISLOGIN"===t.type?Object(G.a)({},e,{isLogin:t.value}):"CHANGE_USER"===t.type?Object(G.a)({},e,{userData:t.value}):"CHANGE_ISLOADING"===t.type?Object(G.a)({},e,{isLoading:t.value}):"GET_NOTES"===t.type?Object(G.a)({},e,{notes:t.value}):e},x=Object(L.c)(U,Object(L.a)(j.a));var P=function(){return r.a.createElement(y.a,{store:x},r.a.createElement(s.a,{basename:"/simple-note"},r.a.createElement(c.a,{path:"/",exact:!0,component:w}),r.a.createElement(c.a,{path:"/dashboard",component:I}),r.a.createElement(c.a,{path:"/register",component:D})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.3da5f64d.chunk.js.map