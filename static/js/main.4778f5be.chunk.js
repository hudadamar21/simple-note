(this["webpackJsonpsimple-note-firebase"]=this["webpackJsonpsimple-note-firebase"]||[]).push([[0],{37:function(e,t,a){e.exports=a(57)},42:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),i=a.n(o),s=(a(42),a(43),a(35)),c=a(9),l=a(7),u=a(15),p=a.n(u),d=a(23),m=a(11),h=a(12),f=a(13),g=a(14),v=(a(45),a(24)),E=a.n(v);a(46),a(48);E.a.initializeApp({apiKey:"AIzaSyBNQDVwVey1dgpPFVbyk6OJL611Q4cHi5s",authDomain:"simple-notes-firebase-76202.firebaseapp.com",databaseURL:"https://simple-notes-firebase-76202.firebaseio.com",projectId:"simple-notes-firebase-76202",storageBucket:"simple-notes-firebase-76202.appspot.com",messagingSenderId:"690875245691",appId:"1:690875245691:web:d313b0d695a71ce639eede",measurementId:"G-DYCTLDL1SS"});var b=E.a.database(),N=E.a,I=a(8),O=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).setDate=function(e){var t=new Date(e).getDay(),a=new Date(e).getDate(),n=new Date(e).getMonth()+1,r=new Date(e).getFullYear();return"".concat(["Minggu","Selasa","Rabu","Kamis","Jum'at","Sabtu"][t]," | ").concat(a,"-").concat(n,"-").concat(r)},n.componentDidMount=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(localStorage.getItem("userData")))){e.next=6;break}return e.next=4,n.props.getNote(t.uid);case 4:e.next=11;break;case 6:(a=document.querySelector(".dash-container")).style.flexDirection="column",a.style.textAlign="center",a.style.padding="100px 0",a.innerHTML='<h1>404 Not Found</h1>\n        <hr/>\n       <p>you are not user, please login..</p>\n       <a href="/">Oke i\'m Back</a>';case 11:case"end":return e.stop()}}),e)}))),n.handleInputChange=function(e,t){n.setState(Object(l.a)({},t,e.target.value))},n.handleSaveNote=function(){var e=n.state,t=e.title,a=e.content,r=e.isUpdate,o=e.noteId,i=n.props,s=i.saveNote,c=i.updateNote,l={title:t,content:a,userId:JSON.parse(localStorage.getItem("userData")).uid,date:(new Date).getTime()};r?(l.noteId=o,c(l).then((function(){n.setState({title:"",content:"",isUpdate:!1})}))):s(l)},n.updateInput=function(e){console.log(e),n.setState({title:e.data.title,content:e.data.content,noteId:e.id,isUpdate:!0})},n.handleCancel=function(){n.setState({title:"",content:"",isUpdate:!1})},n.state={title:"",content:"",date:"",noteId:"",isUpdate:!1},n}return Object(h.a)(a,[{key:"deleteNote",value:function(e){var t={userId:JSON.parse(localStorage.getItem("userData")).uid,noteId:e.id};this.props.deleteNote(t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,o=t.content,i=this.props.notes;return r.a.createElement("div",{className:"dash-container"},r.a.createElement("div",{className:"dash-header"},r.a.createElement("h3",null,"Dashboard pages"),r.a.createElement("input",{placeholder:"title..",className:"title",value:a,onChange:function(t){return e.handleInputChange(t,"title")}}),r.a.createElement("textarea",{placeholder:"content..",className:"content",value:o,onChange:function(t){return e.handleInputChange(t,"content")}}),this.state.isUpdate?r.a.createElement("div",{className:"isupdate"},r.a.createElement("button",{className:"btn-cancel",onClick:this.handleCancel},"Cancel"),r.a.createElement("button",{className:"btn-save",onClick:this.handleSaveNote},"Update")):r.a.createElement("button",{className:"btn-save",onClick:this.handleSaveNote},"Save")),r.a.createElement("div",{className:"dash-notes"},i.length>0?r.a.createElement(n.Fragment,null,i.map((function(t){return r.a.createElement("div",{className:"card-container",key:t.id},r.a.createElement("div",{className:"delete-confirm"},r.a.createElement("button",{onClick:function(a){a.target.parentElement.nextSibling.style.transform="translate(-1000px, 2px)",a.target.parentElement.style.opacity="0",setTimeout((function(){e.deleteNote(t)}),300)}},"YES"),r.a.createElement("button",{className:"delete-confirm-no",onClick:function(e){console.log(e.target.parentElement.nextSibling),e.target.parentElement.nextSibling.classList.remove("delete-slide")}},"NO")),r.a.createElement("div",{className:"dash-card",onClick:function(){return e.updateInput(t)}},r.a.createElement("div",{className:"dash-title"},r.a.createElement("h3",null,t.data.title),r.a.createElement("p",null,e.setDate(t.data.date))),r.a.createElement("div",{className:"dash-content"},r.a.createElement("p",null,t.data.content)),r.a.createElement("div",{className:"btn-delete",onClick:function(e){e.stopPropagation(),e.target.parentElement.classList.add("delete-slide")}},"Delete")))}))):r.a.createElement("p",null,"anda tidak mempunyai note..")))}}]),a}(n.Component),S=Object(I.b)((function(e){return{userData:e.userData,notes:e.notes}}),(function(e){return{getNote:function(t){return e(function(e){return function(t){return new Promise((function(a,n){b.ref("notes/"+e).on("value",(function(e){var n=[];e.val()&&(Object.keys(e.val()).forEach((function(t){n.push({id:t,data:e.val()[t]})})),t({type:"GET_NOTES",value:n}),a(e.val()))}),(function(e){n(e)}))}))}}(t))},saveNote:function(t){return e(function(e){return function(t){b.ref("notes/"+e.userId).push({title:e.title,content:e.content,date:e.date})}}(t))},updateNote:function(t){return e(function(e){return function(t){var a=b.ref("notes/".concat(e.userId,"/").concat(e.noteId));return console.log(e.noteId),new Promise((function(t,n){a.set({title:e.title,content:e.content,date:e.date},(function(a){a?n(alert(a)):t(alert("data dengan title : ".concat(e.title," , Berhasil di Update")))}))}))}}(t))},deleteNote:function(t){return e(function(e){return function(t){return console.log(e.noteId),new Promise((function(t,a){b.ref("notes/".concat(e.userId,"/").concat(e.noteId)).remove()}))}}(t))}}}))(O),y=(a(55),function(e){var t=e.title,a=e.onClick;return e.loading?r.a.createElement("button",{disabled:!0},r.a.createElement("div",{className:"loading"})):r.a.createElement("button",{onClick:a},t)}),C=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){n.setState(Object(l.a)({},e.target.id,e.target.value))},n.handleLoginSubmit=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,r,o,i,s,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state,r=a.email,o=a.password,i=function(){return n.setState({password:""})},s=n.props.history,e.next=5,n.props.loginFirebaseUser({email:r,password:o},i).catch((function(e){return alert(e)}));case 5:(c=e.sent)&&(localStorage.setItem("userData",JSON.stringify(c)),s.push("/Dashboard"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={email:"",password:""},n}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"auth-container"},r.a.createElement("div",{className:"auth-card"},r.a.createElement("p",null,"Login pages"),this.props.popup?r.a.createElement("p",null,"Login OKE"):null,r.a.createElement("input",{type:"text",id:"email",value:this.state.email,placeholder:"Email",onChange:this.handleInputChange}),r.a.createElement("input",{type:"password",id:"password",value:this.state.password,placeholder:"Password",onChange:this.handleInputChange}),r.a.createElement(y,{onClick:this.handleLoginSubmit,title:"Login",loading:this.props.isLoading}),r.a.createElement("span",null,"tidak punya akun? ",r.a.createElement("a",{href:"/Register"},"register"))))}}]),a}(n.Component),w=Object(I.b)((function(e){return{isLoading:e.isLoading,popup:e.popup}}),(function(){return function(e){return{loginFirebaseUser:function(t,a){return e(function(e,t){return function(a){return new Promise((function(n,r){a({type:"CHANGE_ISLOADING",value:!0}),N.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){var t={email:e.user.email,uid:e.user.uid,emailVerified:e.user.emailVerified,refreshToken:e.user.refreshToken};a({type:"CHANGE_ISLOADING",value:!1}),a({type:"CHANGE_ISLOGIN",value:!0}),a({type:"CHANGE_USER",value:t}),n(t),console.log(t)})).catch((function(e){var n=e.code,o=e.message;console.log(n,o),t(),a({type:"CHANGE_ISLOADING",value:!1}),a({type:"CHANGE_ISLOGIN",value:!1}),r("Akun tidak ditemukan, silahkan periksa kembali..")}))}))}}(t,a))}}}}))(C),k=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){n.setState(Object(l.a)({},e.target.id,e.target.value))},n.handleRegisterSubmit=function(e){var t=n.state,a=t.email,r=t.password;n.props.registerFirebaseUser({email:a,password:r},(function(){return n.setState({email:"",password:""})}))},n.changeUser=function(){n.props.changeUserName()},n.state={email:"",password:""},n}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"auth-container"},r.a.createElement("div",{className:"auth-card"},r.a.createElement("p",null,"Register ",this.props.userName),this.props.popup?r.a.createElement("p",null,"Register OKE"):null,r.a.createElement("input",{type:"text",id:"email",value:this.state.email,placeholder:"Email",onChange:this.handleInputChange}),r.a.createElement("input",{type:"password",id:"password",value:this.state.password,placeholder:"Password",onChange:this.handleInputChange}),r.a.createElement(y,{onClick:this.handleRegisterSubmit,title:"Register",loading:this.props.isLoading}),r.a.createElement("span",null,"sudah punya akun? ",r.a.createElement("a",{href:"/"},"Login"))))}}]),a}(n.Component),D=Object(I.b)((function(e){return{isLoading:e.isLoading,popup:e.popup}}),(function(){return function(e){return{registerFirebaseUser:function(t,a){return e(function(e,t){return function(a){return a({type:"CHANGE_ISLOADING",value:!0}),N.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(e){console.log(e),a({type:"CHANGE_ISLOADING",value:!1}),t(),a({type:"CHANGE_POPUP",value:!0}),setTimeout((function(){a({type:"CHANGE_POPUP",value:!1})}),2e3)})).catch((function(e){var t=e.code,n=e.message;a({type:"CHANGE_ISLOADING",value:!1}),alert(t,n)}))}}(t,a))}}}}))(k),L=a(18),j=a(34),A=a(16),G={popup:!1,isLogin:!1,isLoading:!1,userData:{},notes:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_POPUP"===t.type?Object(A.a)({},e,{popup:t.value}):"CHANGE_ISLOGIN"===t.type?Object(A.a)({},e,{isLogin:t.value}):"CHANGE_USER"===t.type?Object(A.a)({},e,{userData:t.value}):"CHANGE_ISLOADING"===t.type?Object(A.a)({},e,{isLoading:t.value}):"GET_NOTES"===t.type?Object(A.a)({},e,{notes:t.value}):e},x=Object(L.c)(U,Object(L.a)(j.a));var P=function(){return r.a.createElement(I.a,{store:x},r.a.createElement(s.a,null,r.a.createElement(c.a,{path:"/",exact:!0,component:w}),r.a.createElement(c.a,{path:"/Dashboard",component:S}),r.a.createElement(c.a,{path:"/Register",component:D})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.4778f5be.chunk.js.map